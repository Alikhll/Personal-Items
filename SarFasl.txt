	windows form
	entity framework 6
2
{
	public class dataContext1:System.Data.Entity.DBContext{
	public dataContext1(){}
	public DbSet<country> countries{get; set;}

	//form load
	databaseContext1 a = new databaseContext1();
	country b = new county();
	b.id = 1; b.name = "ali";
	a.countries.Add(b);
	a.SaveChange();

	(localDB)\v11.0 // server Name
}
3
{
	static databaseContext1(){ //tooye classe databaseContext1
	Database.SetInitializer(new DropCreateDatabaseAlways<databaseContext1>());
	}
	public databaseContext1():base("myDatabaseContext1"){}	

	//DropCreateDatabaseIfModelChanges
	//CreateDatabaseIfNotExsists

	//Mohem Important
	<connectioString> ro hatman bayad bade <configSection> biarim
	//file note pad => pasvand ro udl	
	//Sakhte connectionstring // akhare video
}
4
{
	//attribute
	using System.ComponentModel.DataAnnotations;
	[System.ComponentModel.DataAnnotations.Schema.Table("tableName")]
	[key]
	[required]
	[Schema.Column("columnName)]
	[Schema.DatabaseGenerated(Schema.DatabaseGeneratedOption.None)] //dg auto increament nist // chon id besoorat pishfarz auto increament ast
	//Id haye monhaser be fard
		public country(){Id = Guid.NewGuid();}
		public Guid Id{get; set;}
	//
	[MaxLenght(100)]
	[Schema.Column("name", Order = 0 , TypeName = "VarChar")]	
	[Schema.NotMapped] // mikhaim property mohasebe nashe
}
5
{
	// dota primary key bekhaim // dar video
	public class Test1 //dota primary key
    	{
        	[Column(Order = 0)]
        	[Key]
        	public int Id1 { get; set; }
        	[Key]
        	[Column(Order = 1)]
        	public int Id2 { get; set; }
    	}	
	// age propery faghat get dashte bashe to database namayesh dade nemishavad
	public string DisplayName{
		get{return string.format("lablablab {0}",NameProperty);}
	}

	// load kardan dar barname

	databaseContext1 a = new dataBaseContext1();
	var b = a.Countries.ToList();
	ListBoxName.DataSource = b;
	ListBoxName.ValueMember = "ID";
	ListBoxName.DisplayMember = "DisplayName"; // DisplayName hamoon propert hast ke dar bala sakhtim
	a.Dispose();
}
6
{
	// Verasat // Inheritance
	// farz konid 3 ta kelas darim
	A //base
	B:A
	C:b
		
	//agar az C estefade konim tamame property haye B & A niz dar jadval gharar migirand
}
7
{
	databaseConetxt1 a = new databaseContext1();

	a.Countries.OrderBy(c=>c.Name).Load();
	List.DataSource = a.Countries.Local; // vaghti bejaye list az load estefade mikonim badan baraye load kardan az local estefade mikonim

	a.Countries.Local.Clear(); // delete kardane hameye keshvar ha	vaghti az load estefade kardim
	a.Database.ExecuteSqlCommand("delete from countries where id = 1");
	
	//rahe hale manteghi
	a.Countries.Where(c=>c.Name == txt.Text).Load();
	var d = a.Countries.Local[0];
	a.Countries.Remove(d);
	a.SaveChanges();

	//halat haye mokhtalefe state dar video ((15:30))
	
}
8
{
	[Schema.ComplexType] // vaghti masalan toye class bekhaim ye property az clasee dg besazim ta to database tolid beshe
	// public Person persons{get; set;};
}
9
{
	//Seed //yani baraye shore sakhte database ye seri maghadir be soorate pishfarz add beshe
	//faghat avalin bari ke database mikhad sakhte beshe Seed farakhani Mishe
	Database.SetInitializer(new MyDatabaseInitializer()); //inbar khodemoon kelase MyDatabaseInitializer ro misazim
	
	public class MyDatabaseInitializer : System.Data.Entity.DropCreateDatabaseIfModelChanges<DatabaseContexy>
	{
		public MyDatabaseInitializer(){}
		protected override void Seed(DatabaseContext databaseContext){
			base.Seed(databaseContext)
			databaseContext.People.Add(new Person("A","B","C");
			databaseConext.People.Add(new Person(){Name = "ali" , .... });
		}
	}
}
10
{
	//ertebate Yek be Chand // Forgin key
	//Relation
	//class Country => Id int,country nvarchar
	//class State => ID int, city nvachar, CountryID int
	//class Countrie // public virtual System.Collections.Generic.IList<State> state{get; set;}
	//class State    // public virtual Country country{get; set;}
}
11
{
	//fluent Api // moadele attribute ha mibashad
	//ertebate yek be chand //ba fluent api
	//tooye classe jadvalemoon ezafe mikonim
	internal class Configuration:System.Data.Entity.ModelConfiguration.EntityTypeConfiguration<Country>{
		public Configuration(){
			ToTable("countries");
			HasKey(c=>c.ID);
			Property(c=>c.ID).HasDatabaseGeneratedOption(Syste,.ComponentModel.DataAnnotations.Schema.DatabaseGeneratedOption.None);
			Property(c=>C.ID).HasColumnName("IDname").HasColumnOrder(0).IsRequired();
			Property(c=>c.Name).HasColumnName("Name").HasColumnOrder(1).IsRequired().IsUnicode(true)hasMaxLenght(50).IsVariableLenght(); //unicode true yani beshe farsi ham benevisi //IsVariableLenght yani badan beshe tedade 50 ro taghir dad(HasMaxLenght(5))
			// .IsFixedLenght() //dg nemitoonom kam o ziad konim	
			}
		}
	//hala age bekhaim ba fluent Api foreign key besazim (mohem)
	//classe state hastim
	HasRequired(c=>c.Country).withMany(country=>country.States).hasForeignKey(c=>c.CountryID).WillCascadeOnDelete(false);	
	//WillCascadeOnDelete(false) //yani age az jadval delete kardim un yeki delete nashe

	//chand ta ertebate yek be chand
	HasRequired(c=>c.Country).withMany(country=>country.States).hasForeignKey(c=>c.CountryID).WillCascadeOnDelete(false);
	HasOptional(c=>c.Country).WithMany(country=>country.States).HasForeignKey(c=>c.CountryID).WillCascadeOnDelete(false);
}
12
{
	//chizi ke dar fluent api ha dar ghesmat ghabl faramoosh shode
	// ina ro dar mydatabaseContext ezafe mikonim
	protected override void OnModelCreating(DbModelBuilder modelBuilder){
		base.OnModelCreating(modelBuilder);
		modelBuilder.Configurations.Add(new State.Configuration());
		modelBuilder.Configurations.Add(new Country.Configuration());
	//Ye chize Mohem raje be Ertebatat code nevisi gofte
	// Include
	odatabaseContext.Countries.Include(c=>c.States).Where(c=>c.ID == 1).Load(); //jadvale state ro ham ezafe mikonim
}
13
{
	//toye databaseContext dar ghesmate sazande inkaro mikonim
	public DatabaseContext(){
		Configuration.LazyLoadinEnabled = true;
	}
	// Mabhase Casting dar Video // (khoobe bebin)
}
14
{
	// Dastoorate Linq
	using System.Linq;
	using System.Data.Entity;
	
	odatabase.countries.Load();..badan ba local[0] dastresi darim
	odatabase.countries.ToList();
	odatabase.countries.Where(c=>c.Id >= 10).Load();
	odatabase.countries.Where(c=>c.Id >= 10).Where(c => c.id <= 20).Load(); // And &&
	odatabase.countries.Where(c=>c.ID >= 10 && c.Id <=20).Load(); // va || or ham darim
	odatabase.countries.Where(c=>c.Name.StartWith("A")).Load(); // EndWith
	odatabase.countries.Where(c=>c.Name.Contains("a").Load(); // dakhelesh "a" darad
	odatabase.countries.Where(c=>c.Name.Contains("Am").Where(c=>c.Name.Contains("ca").Load(); // ham "am" darad ham "ca" // "am%ca"
	odatabase.countries.Where(c=>c=>c.Id >=10).OrderBy(c=>c.ID).Load(); //OrdeByDescending
	odatabase.countries.Where(c=>c.ID >=10).OrderBy(c=>c.ID).ThenBy(c=>c.ID).Load(); //do ta Order by // ThenByDescending
	odatabase.countries.Include(c=>C.States).Where(c=>c.Id == 1).Load(); //faghat jadval haye mortabet ra mitoonim Include konim // age yeki dg Include bezanim masalan roye city be una ham dastresi darim
	int Tedad = odatabase.Countries.Count;
	odatabase.countries.Where(c=>c.Stats.Any(state=>state.Name.Contains("B")).Load(); // tamame keshvar haee ro mikham ke hade aghal dar ostan hayash harf "B" vojood dashte bashad	
}
16
{
	//dota kelase gruop va User darim
	//video ro bebin
	//ertebate chand be chand //many to many //dar kelase groups hastim
	public Configuration(){
		HasMany(c=>c.Users)
		.WithMany(user => user.Grouos)
		.Map(c=>
		{
			c.ToTable("UserInGroups");
			c.MapLeftKey("GroupID);
			c.MapRightKey("UserID");
		});
	
	oUser1.Groups.Add(oGroup1); //farghi nemikone ba har kodom az ina be jadvale UserInGroups meghdar ezafe mikonim 
	oGroup1.Users.Add(oUser1);
}
17
{
	//relation one to one
	HasKey(c=>c.PersonId);
	HasRequired(c=>c.Person)
	.WithOptional(p=>p.Address)
	.WillCascadeOnDelete(true);
}
18
{
	//paging
}
19,20
{
	//migration
}















